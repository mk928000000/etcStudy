// 코어자바스크립트 공부 기록 

1장. 데이터 타입





# 기본형은 불변값, 참조형은 가변값.
여기에서 말하는 불변값/가변값은 데이터 주소를 말함.

기본형에서 값을 할당 후, 이것을 다른 식별자로 복사했을 때 다른 식별자의 값을 재할당 하는 상황에서 이 특성이 나타난다.

[ 기본형 ]
var a = 'abc';
var b = a;
b = 'def';

a -> 'abc';
b -> 'def;
a와 b 의 값이 다르다.


[ 참조형 ]
var c = {  aaa : 1 , bbb : 2};
var d = c;
d.aaa = 2;

c.aaa -> 2;
d.aaa -> 2;
c와 d의 aaa 값이 변하는 불상사가 일어난다!


이유는 기본형은 데이터주소를 바로 할당하지만, 참조형은 참조변수 주소값을 할당하고, 이 주소값에서 데이터값을 할당하기 때문이다.
그렇기 때문에 c와 d의 참조변수 주소값({aaa: 1 , bbb : 2}를 보는 주소) 가 동일한 상태에서 aaa 의 주소값이 직접적으로 바뀌었기 때문에 c도 바뀐 값을 출력하게 된다.
이것을 막고 불변값으로 사용하기 위해서는 데이터에 직접 접근하지 말고  내부 프로퍼티를 통째로 복사해서 사용하면 된다. 

var c = {aaa : 1, bbb :2};
var d = {aaa : 1, bbb :2};
d.aaa = 2;

c.aaa -> 1;
d.aaa -> 2;


참고로 얕게 복사하면 객체의 값은 복사되지만 객체내부에 또 참조형 데이터가 있을 경우, 이 참조형 데이터의 값은 복사하지 않고 그대로 참조한다.
통째로 복사하는 깊은 복사 방법에는 간단히 JSON.parse (JSON.stringify(target)); 가 있다. 





# undefined 와 null
undefined 는 사용자가 명시적으로 지정하거나 아니면 값이 없을때 자바스크립트가 알아서 반환해주는 두 가지 경우가 있다. 
(ES6 에서 생성된 let, const 는 undefined 반환이 아니라 초기화가 안되서 참조할수 없다고 오류를 띄운다.)
사용자가 지정하면 데이터 값이 할당되고, 알아서 되는 경우는 그냥 없다는 표시이다.
헷갈리므로 사용자가 지정할때 없다는 뜻은 undefined 가 아니라 null 을 쓰자.

[ 자바스크립트가 알아서 반환해주는 경우 ]
1. 초기화가 안된 var 접근 시
2. 객체에서 존재하지 않는 프로퍼티 접근 시
3. return 문이 없거나 실행되지 않은 함수의 접근 결과
  


자바스크립트에서는 null 의 오류가 있는데, typeof null 을 하면 Object 가 반환된다. null 체크를 위해서는 typeof 말고 === 연산자를 쓰자.

var a = null;
typeof a -> object
a === null -> true



arr 에서의 undefined 는 조금 다르다. arr 에서 3칸을 할당하면 바로 index 0,1,2 로 변수공간이 잡히는것 같지만 그렇지 않다. 
객체처럼 특정 인덱스에 값이 할당되어야 변수공간이 잡히는 것이다. 그러므로 arr을 출력하면 값이 할당되지 않은 자리의 arr 값은 empty 로 출력된다.

var arr = new Array(3);
console.log(arr) -----> empty x 3



아래처럼 명시적으로 접근하면 비어있는 요소에 접근할때 처럼 undefined 가 반환된다.

arr[0] -> undefined; 




